<div class="lobby-body">

  <div *ngIf="currentUser !== undefined" class="top-level">

    <div class="environment-selector box">
      <div>Where to drink ?</div>
      <div class="switch-arrow previous" (click)="nextEnvironment('left')">
        <i *ngIf="!(currentEnvironmentIdx <= 0)" class="fas fa-chevron-left"></i>
        <i *ngIf="currentEnvironmentIdx <= 0" class="fas fa-grip-lines-vertical non-interactive"></i>
      </div>
      <img src="assets{{environments[currentEnvironmentIdx].thumb}}">
      <div class="switch-arrow next" (click)="nextEnvironment('right')">
        <i *ngIf="!(currentEnvironmentIdx >= environments.length - 1)" class="fas fa-chevron-right"></i>
        <i *ngIf="currentEnvironmentIdx >= environments.length - 1" class="fas fa-grip-lines-vertical  non-interactive"></i>
      </div>
    </div>

    <div class="controls box">
      <button (click)="createGame()" [disabled]="activeLobby !== undefined">{{translation.text.gamesListCreate}}</button>
      <span *ngIf="activeLobby !== undefined" class="blue-text"><i class="fas fa-exclamation-triangle"></i><span>You are in a lobby and won't be able to host a new game.</span></span>
      <button (click)="refresh()"><i class="fas fa-redo"></i></button>
    </div>

  </div>

    <app-game-display *ngIf="availableLobbies.length <= 0"
                      [isDummy]="true"
                      [languageObjects]="translation.text">
    </app-game-display>

    <div *ngIf="availableLobbies.length > 0">
      <app-game-display *ngFor="let game of availableLobbies"
        (enter)="onEnterGame()"
        (join)="onJoinGame($event)"
        (leave)="onLeaveGame()"
        [game]="game"
        [isActive]="isActive(game)"
        [languageObjects]="translation.text">
      </app-game-display>
    </div>


  <div *ngIf="currentUser === undefined">You shouldnt be here =(</div>
</div>
